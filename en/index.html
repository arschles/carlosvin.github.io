<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Web personal de Carlos Martín Sánchez: Cuento lo que pasa por la web o por mi cabeza."><meta name="author" content="Carlos Martín Sánchez"><title>Vin's Blog | Vin's Blog</title><link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css"><link rel="canonical" href="http://carlosvin.github.io/en/index.html"><!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS (en)" href="rss.xml"><link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../rss.xml"></head><body>
<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container-fluid"><!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://carlosvin.github.io/">Vin's Blog</a>
        </div><!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav"><li><a href="archive.html">Archives</a>
                </li><li><a href="categories/index.html">Tags</a>
                </li><li><a href="rss.xml">RSS</a>

            </li></ul><!-- Custom search --><form method="get" id="search" action="http://duckduckgo.com/" class="navbar-form pull-right">
<input type="hidden" name="sites" value="http://carlosvin.github.io/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" class="form-control" name="q" maxlength="255" placeholder="Search…"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;"></form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"><li>
            </li><li><a href="../index.html" rel="alternate" hreflang="es">Español</a></li>

                
                    
            </ul></div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav><!-- End of Menubar --><div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
        <article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/async-what-how-when.html" class="u-url">Python's asyncio: What, How, When</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2014-04-20T13:35:00+02:00">2014-04-20 13:35</time></small></h1>
        <hr><div class="e-content">
        <div><p>I've been listening a <a class="reference external" href="http://emptysqua.re/blog/">A. Jesse Jiryu Davis</a> talk about the library <a class="reference external" href="http://www.python.org">Python</a>'s <a class="reference external" href="https://docs.python.org/3.4/library/asyncio.html">asycnio</a> library.</p>
<p><a class="reference external" href="https://docs.python.org/3.4/library/asyncio.html">Asycnio</a> is a library added to <a class="reference external" href="http://www.python.org">Python</a> 3.4. that provides infrastructure for writing single-threaded concurrent code which let us to save memory.</p>
<iframe width="425" height="344" src="http://www.youtube.com/embed/9WV7juNmyE8?rel=0&amp;hd=1&amp;wmode=transparent"></iframe></div>
        </div>
            
        
    <p>
        <a href="posts/async-what-how-when.html#disqus_thread" data-disqus-identifier="cache/posts/async-what-how-when.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/equations-that-changed-the-word.html" class="u-url">Equations that changed the world</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2014-04-03T11:30:00+02:00">2014-04-03 11:30</time></small></h1>
        <hr><div class="e-content">
        <div><p>I've seen in <a class="reference external" href="https://plus.google.com/+GoogleScienceFair">Google Science Fair</a> a collection of equations that changed the world.
In my opinion, everybody must understand some of these equations.</p>
<a class="reference external image-reference" href="https://plus.google.com/108818810955465968635/posts/MQ6e6NXNGTf"><img alt="Equations that changed the world" class="align-center" src="https://lh4.googleusercontent.com/-FHTLwqgD_9Y/Uzw9gQoOzWI/AAAAAAAAzPo/wYMfpR33uqM/w319-h417-no/10013908_458548124276223_2085950828_n.jpg" style="width: 400px;"></a></div>
        </div>
            
        
    <p>
        <a href="posts/equations-that-changed-the-word.html#disqus_thread" data-disqus-identifier="cache/posts/equations-that-changed-the-word.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/primer-post.html" class="u-url">First post with Nikola</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2014-03-27T13:30:02+01:00">2014-03-27 13:30</time></small></h1>
        <hr><div class="e-content">
        <div><p>I guess that the most people come from dynamic content management systems based on:</p>
<ul class="simple"><li>send data from browser to server</li>
<li>process the received data, then it stores the processed info into a database (or files)</li>
<li>the server generate dynamically an answer that is sent to the browser as HTML<ul><li>the answer is usually built reading info from a database or files.</li>
</ul></li>
</ul><p>This process is managed by a software installed on server, this is our content management system.</p>
<p>Now I've changed the paradigm to "static web site generator", specifically I'm going to use <a class="reference external" href="http://getnikola.com/">Nikola</a>,
although this time, I'm not going to install on a remote server.</p>
<p>In a next post I'll tell you how I've automated the publication process using <a class="reference external" href="http://www.github.com">Github</a> <a class="footnote-reference" href="posts/primer-post.html#id9" id="id1">[1]</a> and <a class="reference external" href="https://travis-ci.org/">Travis</a> <a class="footnote-reference" href="posts/primer-post.html#id10" id="id2">[2]</a>.</p>
<div class="contents topic" id="path-to-nikola">
<p class="topic-title first">Path to <a class="reference external" href="http://getnikola.com/">Nikola</a></p>
<ul class="simple"><li><a class="reference internal" href="posts/primer-post.html#phpnuke" id="id16">PhpNuke</a></li>
<li><a class="reference internal" href="posts/primer-post.html#my-own-content-management-system" id="id17">My Own Content Management System</a><ul><li><a class="reference internal" href="posts/primer-post.html#drupal" id="id18">Drupal</a></li>
<li><a class="reference internal" href="posts/primer-post.html#wordpress" id="id19">Wordpress</a></li>
<li><a class="reference internal" href="posts/primer-post.html#cmsdj" id="id20">CMSdj</a></li>
<li><a class="reference internal" href="posts/primer-post.html#nikola" id="id21">Nikola</a></li>
</ul></li>
</ul></div>
<div class="section" id="phpnuke">
<h2><a class="reference external" href="https://www.phpnuke.org/">PhpNuke</a></h2>
<p>My first content management system, yes it still exists. It based on PHP+MySQL, multi-lang, user management, user groups, theming, plugins, etc.</p>
</div>
<div class="section" id="my-own-content-management-system">
<h2><a class="toc-backref" href="posts/primer-post.html#id17">My Own Content Management System</a></h2>
<p>It wasn't a full <a class="citation-reference" href="posts/primer-post.html#cms" id="id3">[CMS]</a>, because actually it was a blogging system. I can publish posts dynamically, it was made with PHP and MySQL. It was useful to:</p>
<ul class="simple"><li>Publish posts (with several problems).</li>
<li>I realized that a developer needs a designer.</li>
<li>I don't like the <a class="reference external" href="http://www.php.net/">PHP</a> syntax.</li>
<li>I began to understand the importance of <a class="citation-reference" href="posts/primer-post.html#dry" id="id4">[DRY]</a>.</li>
</ul><div class="section" id="drupal">
<h3><a class="reference external" href="https://drupal.org/">Drupal</a></h3>
<p>A full <a class="citation-reference" href="posts/primer-post.html#cms" id="id5">[CMS]</a>, I liked it until the things began to "break" (I shared the guilty with <a class="reference external" href="https://drupal.org/">Drupal</a>). But <a class="reference external" href="https://drupal.org/">Drupal</a> has everything you expect from a <a class="citation-reference" href="posts/primer-post.html#cms" id="id6">[CMS]</a> and more.</p>
</div>
<div class="section" id="wordpress">
<h3><a class="reference external" href="https://wordpress.org/">Wordpress</a></h3>
<p>I don't know if it is better or worse than <a class="reference external" href="https://drupal.org/">Drupal</a>, there are many discussions in Internet, but I can tell <a class="reference external" href="https://wordpress.org/">Wordpress</a> is more usable and easier to update than <a class="reference external" href="https://drupal.org/">Drupal</a>.</p>
</div>
<div class="section" id="cmsdj">
<h3><a class="reference external" href="https://bitbucket.org/carlosvin/cmsdj">CMSdj</a></h3>
<p>It is my second attempt to create my own <a class="citation-reference" href="posts/primer-post.html#cms" id="id7">[CMS]</a>. I had an idea in my mind about how to be the core design (the data model), I still believe in that design. I had also discovered <a class="reference external" href="https://www.djangoproject.com/">Django</a>, I liked this framework developed in <a class="reference external" href="http://www.python.org">Python</a>, who can resist to create your own <a class="citation-reference" href="posts/primer-post.html#cms" id="id8">[CMS]</a>?
<a class="reference external" href="https://bitbucket.org/carlosvin/cmsdj">CMSdj</a> is in <a class="reference external" href="https://bitbucket.org">Bitbucket</a> and is working, it has its internal search engine, theming, comment system, voting system,HTML5_ + <a class="reference external" href="http://www.w3.org/Style/CSS/current-work">CSS3</a> views, but:</p>
<ul class="simple"><li>I haven't enough time to develop, two hours by week at most.</li>
<li>I still needed a designer.</li>
</ul><p>So, I declared the project <a class="reference external" href="https://bitbucket.org/carlosvin/cmsdj">CMSdj</a> dead of boredom, although it was supporting my old blog, when I went to write something, I saw my unfinished project, I disliked it, so I decided to close it and begin a new one.</p>
</div>
<div class="section" id="nikola">
<h3><a class="reference external" href="http://getnikola.com/">Nikola</a></h3>
<p>I was a static website generator because they are trendy.
I tried <a class="reference external" href="http://jekyllrb.com/">Jekyll</a> because it's the most famous, but I prefer one written in <a class="reference external" href="http://www.python.org">Python</a>. So, after a quick search I had three finalists: <a class="reference external" href="http://getnikola.com/">Nikola</a>, <a class="reference external" href="http://mynt.mirroredwhite.com/">Mynt</a> y <a class="reference external" href="http://blog.getpelican.com/">Pelican</a>. I chose <a class="reference external" href="http://getnikola.com/">Nikola</a>  because I discarded the others:
* <a class="reference external" href="http://blog.getpelican.com/">Pelican</a> throws some multi-lang problems with the categories. I didn't want to spend time researching about how to fix them.
* I love the simplicity of <a class="reference external" href="http://mynt.mirroredwhite.com/">Mynt</a>, but you have to create your own themes, I never want to miss a designer.</p>
<table class="docutils footnote" frame="void" id="id9" rules="none"><colgroup><col class="label"><col></colgroup><tbody valign="top"><tr><td class="label"><a class="fn-backref" href="posts/primer-post.html#id1">[1]</a></td><td><a class="reference external" href="http://www.github.com">Github</a> hosts the generated site, the static files (html, css, images, js).</td></tr></tbody></table><table class="docutils footnote" frame="void" id="id10" rules="none"><colgroup><col class="label"><col></colgroup><tbody valign="top"><tr><td class="label"><a class="fn-backref" href="posts/primer-post.html#id2">[2]</a></td><td><a class="reference external" href="https://travis-ci.org/">Travis</a> is a continuous integration software (like <a class="reference external" href="http://jenkins-ci.org/">Jenkins</a>). I use it to automate the site deployment: download the files when they change from <a class="reference external" href="http://www.github.com">Github</a>, re-generate and re-publish the static files.</td></tr></tbody></table><table class="docutils citation" frame="void" id="dry" rules="none"><colgroup><col class="label"><col></colgroup><tbody valign="top"><tr><td class="label"><a class="fn-backref" href="posts/primer-post.html#id4">[DRY]</a></td><td>Don't Repeat Yourself, ´DRY in wiki´_</td></tr></tbody></table><table class="docutils citation" frame="void" id="cms" rules="none"><colgroup><col class="label"><col></colgroup><tbody valign="top"><tr><td class="label">[CMS]</td><td><em>(<a class="fn-backref" href="posts/primer-post.html#id3">1</a>, <a class="fn-backref" href="posts/primer-post.html#id5">2</a>, <a class="fn-backref" href="posts/primer-post.html#id6">3</a>, <a class="fn-backref" href="posts/primer-post.html#id7">4</a>, <a class="fn-backref" href="posts/primer-post.html#id8">5</a>)</em> Content Management System</td></tr></tbody></table></div>
</div></div>
        </div>
            
        
    <p>
        <a href="posts/primer-post.html#disqus_thread" data-disqus-identifier="cache/posts/primer-post.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/android-studio-portable-download.html" class="u-url">Android Studio Portable Download</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2013-10-20T13:00:00+02:00">2013-10-20 13:00</time></small></h1>
        <hr><div class="e-content">
        <p>If you want to use <a class="reference external" href="http://developer.android.com/sdk/installing/studio.html">Android Studio</a> without installation, as a portable software, here you have the link to <a class="reference external" href="http://tools.android.com/download/studio/canary/latest">last portable version of Android Studio</a>.</p>
        </div>
            
        
    <p>
        <a href="posts/android-studio-portable-download.html#disqus_thread" data-disqus-identifier="cache/posts/android-studio-portable-download.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/debug-libtool-lib.html" class="u-url">Depurar librería generada con libtool</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2013-02-01T15:30:00+01:00">2013-02-01 15:30</time></small></h1>
        <hr><div class="e-content">
        <div><p>Trabajando con <a class="reference external" href="http://www.gnu.org/software/libtool/libtool.html">libtool</a> <a class="footnote-reference" href="posts/debug-libtool-lib.html#id3" id="id1">[1]</a>, cuando vamos a depurar un ejecutable que utiliza una librería generada con <a class="reference external" href="http://www.gnu.org/software/libtool/libtool.html">libtool</a>, es posible que nos encontremos con el siguiente error:</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>gdb ./tests-mylib
<span class="s2">"tests-mylib"</span>: not in executable format: File format not recognized
</pre>
<p><code>libmylib.so</code> es una librería dinámica generada con <a class="reference external" href="http://www.gnu.org/software/libtool/libtool.html">libtool</a>
<code>tests-mylib</code> es un ejecutable que utiliza la librería mylib</p>
<p>Para los que estéis pensando que se me ha olvidado poner la opción de compilación <code>-g</code>, lo siento, pero este error ocurre aunque utilicemos <code>-g</code>.</p>
<p>El error es debido a que estamos intentando ejecutar un script generado por <a class="reference external" href="http://www.gnu.org/software/libtool/libtool.html">libtool</a>, es una envoltura sobre el programa real, para facilitar la ejecución de éste <a class="citation-reference" href="posts/debug-libtool-lib.html#libtooldoc" id="id2">[libtooldoc]</a>.</p>
<p>Para poder depurar nuestro programa de prueba <code>tests-mylib</code></p>
<pre class="code bash literal-block">
libtool --mode<span class="o">=</span>execute gdb tests-mylib
</pre>
<table class="docutils footnote" frame="void" id="id3" rules="none"><colgroup><col class="label"><col></colgroup><tbody valign="top"><tr><td class="label"><a class="fn-backref" href="posts/debug-libtool-lib.html#id1">[1]</a></td><td>Herramienta que pertenece a la <a class="reference external" href="http://es.wikipedia.org/wiki/GNU_build_system">Autotools</a> usada para crear bibliotecas de software portables.</td></tr></tbody></table><table class="docutils citation" frame="void" id="libtooldoc" rules="none"><colgroup><col class="label"><col></colgroup><tbody valign="top"><tr><td class="label"><a class="fn-backref" href="posts/debug-libtool-lib.html#id2">[libtooldoc]</a></td><td>Esta información la he sacado de <a class="reference external" href="http://www.gnu.org/software/libtool/manual/libtool.html#Debugging-executables">http://www.gnu.org/software/libtool/manual/libtool.html#Debugging-executables</a></td></tr></tbody></table></div>
        </div>
            
        
    <p>
        <a href="posts/debug-libtool-lib.html#disqus_thread" data-disqus-identifier="cache/posts/debug-libtool-lib.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/cpp-pragma-pack.html" class="u-url">Mapeo de un struct C++ en Memoria</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-11-26T12:00:00+01:00">2012-11-26 12:00</time></small></h1>
        <hr><div class="e-content">
        <div><p>Un struct de C++ es un elemento que permite agrupar elementos de tipos distintos con alguna relación entre ellos. Esto permite manipular todos los elementos en bloque mediante una única referencia.</p>
<p>Si alguna vez nos interesa trabajar a un nivel más bajo, nos puede resultar útil entender cómo se mapea una estructura en memoria y cómo controlar este mapeo.</p>
<div class="contents topic" id="tabla-de-contenidos">
<p class="topic-title first">Tabla de Contenidos</p>
<ul class="simple"><li><a class="reference internal" href="posts/cpp-pragma-pack.html#estructura-de-ejemplo" id="id1">Estructura de ejemplo</a></li>
<li><a class="reference internal" href="posts/cpp-pragma-pack.html#la-directiva-pragma-pack-en-struct-c" id="id2">La directiva #pragma pack en struct C++</a></li>
<li><a class="reference internal" href="posts/cpp-pragma-pack.html#rendimiento" id="id3">Rendimiento</a></li>
</ul></div>
<div class="section" id="estructura-de-ejemplo">
<h2><a class="toc-backref" href="posts/cpp-pragma-pack.html#id1">Estructura de ejemplo</a></h2>
<p>Esta estructura estará compuesta por dos campos, un entero (4 bytes) y un booleano (un byte). En C++ queda de la siguiente forma:</p>
<pre class="code c++ literal-block">
<span class="k">struct</span> <span class="n">SampleStruct</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>
</pre>
<p>Si hacemos un <code>sizeof</code> de la una instancia de la estructura deberíamos obtener un tamaño de 5 bytes. Y la memoria quedaría de la siguiente forma:</p>
<div class="figure" style="width: 50%">
<img alt="/galleries/c-mem-struct/5b.png" src="../galleries/c-mem-struct/5b.png" style="width: 30%;"><p class="caption">Estructura de 5 bytes que realmente ocupa 5 bytes en memoria.</p>
</div>
<p>Pero no es tan sencillo, a continuación veremos que no nos podemos olvidar de la alineación de la memoria que hace el compilador en ese sistema y veremos cómo controlarlo para no encontrarnos con tamaños inesperados, ya que esto depende del compilador del sistema.</p>
<p>Por ejemplo, si en mi máquina hago un <code>sizeof</code> de la estructura, obtengo un tamaño de 8 bytes. Lo que está sucediendo es que el compilador reserva más memoria al final de la estructura para que cuadre en bloques de 2n bytes. La memoria queda de la siguiente forma:</p>
<div class="figure" style="width: 50%">
<img alt="/galleries/c-mem-struct/8b.png" src="../galleries/c-mem-struct/8b.png" style="width: 30%;"><p class="caption">Estructura de 5 bytes que realmente ocupa 8 bytes en memoria. Para ser más precisos, debería haber dibujado la memoria no usada a continuación del atributo flag.</p>
</div>
<p>Vamos a ver un fragmento de código que imprime el tamaño de la estructura y el de cada uno de sus atributos y verificar, en este caso 4 + 1 no es 5.</p>
<pre class="code c++ literal-block">
<span class="cp">#include  &lt;iostream&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">SampleStruct</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">print</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">sz</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">sz_flag</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">sz_timeout</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">flag: "</span> <span class="o">&lt;&lt;</span> <span class="n">sz_flag</span> <span class="o">&lt;&lt;</span> <span class="s">" Bytes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">+"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">timeout: "</span> <span class="o">&lt;&lt;</span> <span class="n">sz_timeout</span> <span class="o">&lt;&lt;</span> <span class="s">" Bytes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">="</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">"</span> <span class="o">&lt;&lt;</span> <span class="n">sz_timeout</span> <span class="o">+</span> <span class="n">sz_flag</span> <span class="o">&lt;&lt;</span> <span class="s">" Bytes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"sizeof struct:  "</span> <span class="o">&lt;&lt;</span> <span class="n">sz</span> <span class="o">&lt;&lt;</span> <span class="s">" Bytes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"SampleStruct"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">print</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStruct</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStruct</span><span class="o">::</span><span class="n">flag</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStruct</span><span class="o">::</span><span class="n">timeout</span><span class="p">));</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" -- "</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre>
<p><a class="reference external" href="http://coliru.stacked-crooked.com/a/c7deb3df49bebd40">Ejecutando el código de sin la directiva pragma</a>, tenemos que nuestra estructura ocupa 8 bytes en lugar de 5 bytes.</p>
<pre class="code bash literal-block">
SampleStruct
flag: 1 Bytes
+
timeout: 4 <span class="nv">Bytes</span>
<span class="o">=</span>
5 Bytes
sizeof struct:  8 Bytes
--
</pre>
<div class="tip">
<p class="first admonition-title">Tip</p>
<p class="last">Si queremos conocer el tamaño exacto de las estructuras que vamos a utilizar, tenemos que especificar al compilador la forma de alinear la estructura en memoria, para ello utilizaremos la directiva <code>#pragma pack(n)</code>.</p>
</div>
</div>
<div class="section" id="la-directiva-pragma-pack-en-struct-c">
<h2><a class="toc-backref" href="posts/cpp-pragma-pack.html#id2">La directiva #pragma pack en struct C++</a></h2>
<p>Se trata de una directiva del preprocesador que indica al compilador cómo debe realizar la alineación de la memoria. Vamos a ver como se comporta con un ejemplo:</p>
<pre class="code c++ literal-block">
<span class="cp">#include &lt;iostream&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">print</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">sz</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">sz_flag</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">sz_timeout</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" flag: "</span> <span class="o">&lt;&lt;</span> <span class="n">sz_flag</span> <span class="o">&lt;&lt;</span> <span class="s">" Bytes"</span><span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" +"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" timeout: "</span> <span class="o">&lt;&lt;</span> <span class="n">sz_timeout</span> <span class="o">&lt;&lt;</span> <span class="s">"Bytes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" ="</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">sz_timeout</span> <span class="o">+</span> <span class="n">sz_flag</span> <span class="o">&lt;&lt;</span> <span class="s">"Bytes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" sizeof struct:  "</span> <span class="o">&lt;&lt;</span> <span class="n">sz</span> <span class="o">&lt;&lt;</span> <span class="s">" Bytes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#pragma pack (1)
</span><span class="k">struct</span> <span class="n">SampleStructPack1</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#pragma pack(0)
</span>
<span class="cp">#pragma pack (2)
</span><span class="k">struct</span> <span class="n">SampleStructPack2</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#pragma pack(0)
</span>
<span class="cp">#pragma pack (4)
</span><span class="k">struct</span> <span class="n">SampleStructPack4</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#pragma pack(0)
</span>

<span class="k">struct</span> <span class="n">SampleStruct</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"SampleStructPack1"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">print</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack1</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack1</span><span class="o">::</span><span class="n">flag</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack1</span><span class="o">::</span><span class="n">timeout</span><span class="p">));</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" -- "</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"SampleStructPack2"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">print</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack2</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack2</span><span class="o">::</span><span class="n">flag</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack2</span><span class="o">::</span><span class="n">timeout</span><span class="p">));</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"SampleStructPack4"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">print</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack4</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack4</span><span class="o">::</span><span class="n">flag</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStructPack4</span><span class="o">::</span><span class="n">timeout</span><span class="p">));</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"SampleStruct"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">print</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStruct</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStruct</span><span class="o">::</span><span class="n">flag</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">SampleStruct</span><span class="o">::</span><span class="n">timeout</span><span class="p">));</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" -- "</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre>
<p><a class="reference external" href="http://coliru.stacked-crooked.com/a/7c18ee6585e57366">Ejecutando el código de con las directivas pragma</a>, tenemos distintos resultados dependiendo del valor de pragma.</p>
<pre class="code bash literal-block">
SampleStructPack1
 flag: 1 Bytes
 +
 timeout: <span class="nv">4Bytes</span>
 <span class="o">=</span>
 5Bytes
 sizeof struct:  5 Bytes
 --

SampleStructPack2
 flag: 1 Bytes
 +
 timeout: <span class="nv">4Bytes</span>
 <span class="o">=</span>
 5Bytes
 sizeof struct:  6 Bytes

SampleStructPack4
 flag: 1 Bytes
 +
 timeout: <span class="nv">4Bytes</span>
 <span class="o">=</span>
 5Bytes
 sizeof struct:  8 Bytes

SampleStruct
 flag: 1 Bytes
 +
 timeout: <span class="nv">4Bytes</span>
 <span class="o">=</span>
 5Bytes
 sizeof struct:  8 Bytes
 --
</pre>
<p>Veamos caso por caso:</p>
<dl class="docutils"><dt>SampleStructPack1 <code>#pragma pack (1)</code></dt>
<dd>Reserva bloques de memoria de un byte, nuestra estructura se ha ajustado perfectamente; en este caso sí que <code>4 + 1 = 5</code>.</dd>
<dt>SampleStructPack2 <code>#pragma pack (2)</code></dt>
<dd>Ahora el mínimo tamaño del bloque de memoria es de 2 bytes. Para el entero, hay un ajuste exacto porque necesita 2 bloques que 2 bytes para alojar sus 4 bytes.
Para el caso del booleano, necesita un bloque de 1 byte, pero como mínimo tiene que asignar un bloque de 2 bytes, por eso en total reserva 6 bytes, <code>4 + 2 = 6</code>.</dd>
<dt>SampleStructPack4 <code>#pragma pack (4)</code></dt>
<dd>Es el mismo caso que el anterior, aunque  en el caso del booleano, hay un mayor "desperdicio" de memoria. Necesita 1 byte, pero reserva 4 bytes que es tamaño mínimo de bloque de memoria que puede asignar el compilador.</dd>
<dt>SampleStruct (alineación por defecto del compilador)</dt>
<dd>Como vemos se comporta exactamente igual que <code>#pragma pack (4)</code>, podemos deducir que la alineación por defecto del compilador que estamos utilizando es de 4 bytes.</dd>
</dl><div class="important">
<p class="first admonition-title">Important</p>
<p>¿Por qué no utilizamos siempre la alineación de memoria más ajustada (<code>#pragma pack (1)</code>) para aprovechar mejor la memoria?</p>
<div class="warning last">
<p class="first admonition-title">Warning</p>
<p class="last">Porque perderemos rendimiento.</p>
</div>
</div>
</div>
<div class="section" id="rendimiento">
<h2><a class="toc-backref" href="posts/cpp-pragma-pack.html#id3">Rendimiento</a></h2>
<p>Vamos a hacer una prueba simple de rendimiento, en la que se va a reservar el mismo número de elementos en arrays para cada tipo de estructura.</p>
<p>Este es el resultado:</p>
<pre class="code bash literal-block">
SampleStructPack1: 500000000000000000 bytes allocated in 94311 nanoseconds
SampleStructPack2: 600000000000000000 bytes allocated in 1777 nanoseconds
SampleStructPack4: 800000000000000000 bytes allocated in 1519 nanoseconds
</pre>
<p>Como vemos cuanto más ajustada es la alineación de memoria, más tiempo se tarda en reservar y liberar. Puedes <a class="reference external" href="http://coliru.stacked-crooked.com/a/954ad542659c7591">ejecutar la prueba de rendimiento en este enlace</a>.</p>
<p>A continuación pego el código de la prueba de rendimiento.</p>
<pre class="code c++ literal-block">
<span class="cp">#include &lt;iostream&gt;
#include &lt;chrono&gt;
</span>
<span class="cp">#pragma pack (1)
</span><span class="k">struct</span> <span class="n">SampleStructPack1</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#pragma pack(0)
</span>
<span class="cp">#pragma pack (2)
</span><span class="k">struct</span> <span class="n">SampleStructPack2</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#pragma pack(0)
</span>
<span class="cp">#pragma pack (4)
</span><span class="k">struct</span> <span class="n">SampleStructPack4</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#pragma pack(0)
</span>

<span class="k">struct</span> <span class="n">SampleStruct</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="kt">long</span> <span class="n">MAX_ELEMENTS</span> <span class="o">=</span> <span class="mi">100000000000000000</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">allocate1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">SampleStructPack1</span> <span class="n">elements</span> <span class="p">[</span><span class="n">MAX_ELEMENTS</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"SampleStructPack1: "</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">" bytes allocated"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">allocate2</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">SampleStructPack2</span> <span class="n">elements</span> <span class="p">[</span><span class="n">MAX_ELEMENTS</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"SampleStructPack2: "</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">" bytes allocated"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">allocate4</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">SampleStructPack4</span> <span class="n">elements</span> <span class="p">[</span><span class="n">MAX_ELEMENTS</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"SampleStructPack4: "</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">" bytes allocated"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">chrono1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">auto</span> <span class="n">begin</span> <span class="o">=</span> <span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">()</span> <span class="p">;</span>
    <span class="n">allocate1</span><span class="p">();</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" in "</span> <span class="o">&lt;&lt;</span> <span class="n">duration_cast</span><span class="o">&lt;</span><span class="n">nanoseconds</span><span class="o">&gt;</span><span class="p">(</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">begin</span><span class="p">).</span><span class="n">count</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">" nanoseconds"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">chrono2</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">auto</span> <span class="n">begin</span> <span class="o">=</span> <span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">()</span> <span class="p">;</span>
    <span class="n">allocate2</span><span class="p">();</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" in "</span> <span class="o">&lt;&lt;</span> <span class="n">duration_cast</span><span class="o">&lt;</span><span class="n">nanoseconds</span><span class="o">&gt;</span><span class="p">(</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">begin</span><span class="p">).</span><span class="n">count</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">" nanoseconds"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">chrono4</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">auto</span> <span class="n">begin</span> <span class="o">=</span> <span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">()</span> <span class="p">;</span>
    <span class="n">allocate4</span><span class="p">();</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" in "</span> <span class="o">&lt;&lt;</span> <span class="n">duration_cast</span><span class="o">&lt;</span><span class="n">nanoseconds</span><span class="o">&gt;</span><span class="p">(</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">begin</span><span class="p">).</span><span class="n">count</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">" nanoseconds"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="n">chrono1</span><span class="p">();</span>
    <span class="n">chrono2</span><span class="p">();</span>
    <span class="n">chrono4</span><span class="p">();</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre>
</div></div>
        </div>
            
        
    <p>
        <a href="posts/cpp-pragma-pack.html#disqus_thread" data-disqus-identifier="cache/posts/cpp-pragma-pack.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/git-proxy-config.html" class="u-url">Configuración de proxy para Git</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-11-15T12:00:00+01:00">2012-11-15 12:00</time></small></h1>
        <hr><div class="e-content">
        <div><p>Es muy tedioso trabajar desde una red con proxy, al menos para mí, pierdo un montón de tiempo configurando software para que se actualice y funcione correctamente.</p>
<p>Vamos a ver cómo configurar git para que utilice un proxy determinado.</p>
<p>Esta es una descripción más o menos genérica de como hacer que git utilice un proxy determinado:</p>
<pre class="code bash literal-block">
<span class="c">#para http
</span>git config --global http.proxy &lt;protocolo&gt;://&lt;nombre de usuario&gt;:&lt;password&gt;@&lt;direccion_ip&gt;:&lt;puerto&gt;

<span class="c">#para https
</span>git config --global https.proxy &lt;protocolo&gt;://&lt;nombre de usuario&gt;:&lt;password&gt;@&lt;direccion_ip&gt;:&lt;puerto&gt;

<span class="c">#para deshabilitar el uso del proxy
</span>git config --global --unset http.proxy
</pre>
<p>Más información en <a class="reference external" href="http://git-scm.com/book/es/Personalizando-Git-Configuraci%C3%B3n-de-Git">la configuración oficial de Git</a>.</p>
<table class="docutils citation" frame="void" id="protocolo" rules="none"><colgroup><col class="label"><col></colgroup><tbody valign="top"><tr><td class="label">[protocolo]</td><td>Suele ser http o https</td></tr></tbody></table></div>
        </div>
            
        
    <p>
        <a href="posts/git-proxy-config.html#disqus_thread" data-disqus-identifier="cache/posts/git-proxy-config.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/remove-replace-punctuation-py.html" class="u-url">Eliminar/Reemplazar signos de puntuación en Python</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-10-23T15:00:00+02:00">2012-10-23 15:00</time></small></h1>
        <hr><div class="e-content">
        <div><p>A continuación muestro una forma de eliminar los signos de puntuación de una cadena de caractéres en Python. Los signos de puntuación son reemplazados por caractéres en blanco.</p>
<pre class="code python literal-block">
<span class="kn">import</span> <span class="nn">re</span><span class="o">,</span> <span class="nn">string</span>

<span class="k">def</span> <span class="nf">remove_punctuation</span> <span class="p">(</span> <span class="n">text</span> <span class="p">):</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'[</span><span class="si">%s</span><span class="s">]'</span> <span class="o">%</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">punctuation</span><span class="p">),</span> <span class="s">' '</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre>
<p>Ejecutando:</p>
<pre class="code bash literal-block">
&gt;&gt;&gt; remove_punctuation <span class="o">(</span><span class="s2">"El perro, de San Roque, no tiene rabo; ni nunca lo ha tenido."</span><span class="o">)</span>
<span class="s1">'El perro  de San Roque  no tiene rabo  ni nunca lo ha tenido '</span>
</pre>
<p>Si queremos hacer la función más general, para reemplazar los signos de puntuación por cualquier otra cadena, simplemente hay que hacer la siguiente modificación en la función.</p>
<pre class="code python literal-block">
<span class="kn">import</span> <span class="nn">re</span><span class="o">,</span> <span class="nn">string</span>

<span class="k">def</span> <span class="nf">replace_punctuation</span> <span class="p">(</span> <span class="n">text</span><span class="p">,</span> <span class="n">replace</span> <span class="p">):</span>
  <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'[</span><span class="si">%s</span><span class="s">]'</span> <span class="o">%</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">punctuation</span><span class="p">),</span> <span class="n">replace</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre>
<p>Ejecutando el código de arriba:</p>
<pre class="code bash literal-block">
&gt;&gt;&gt; replace_punctuation <span class="o">(</span><span class="s2">"El perro, de San Roque, no tiene rabo; ni nunca lo ha tenido."</span>, <span class="s1">'[stop]'</span><span class="o">)</span>
<span class="s1">'El perro[stop] de San Roque[stop] no tiene rabo[stop] ni nunca lo ha tenido[stop]'</span>
</pre></div>
        </div>
            
        
    <p>
        <a href="posts/remove-replace-punctuation-py.html#disqus_thread" data-disqus-identifier="cache/posts/remove-replace-punctuation-py.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/normalize-text-py.html" class="u-url">Normalizar texto en Python</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-10-02T18:00:00+02:00">2012-10-02 18:00</time></small></h1>
        <hr><div class="e-content">
        <div><p>En muchos idiomas, como es el caso del español, hay caracteres que no tienen representación <a class="reference external" href="http://es.wikipedia.org/wiki/ASCII">ASCII</a>, como por ejemplo la á (que sí que tiene representación en <a class="reference external" href="http://es.wikipedia.org/wiki/Unicode">Unicode</a>).</p>
<p>Para evitar problemas o por simplificar, se ha dado una equivalencia entre los caracteres <a class="reference external" href="http://es.wikipedia.org/wiki/Unicode">Unicode</a> y los <a class="reference external" href="http://es.wikipedia.org/wiki/ASCII">ASCII</a>.
A continuación os pondré un trozo de código en <a class="reference external" href="http://www.python.org">Python</a> que hace esta conversión.</p>
<pre class="code python literal-block">
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="kn">from</span> <span class="nn">unicodedata</span> <span class="kn">import</span> <span class="n">normalize</span>

<span class="k">def</span> <span class="nf">normalize_text</span> <span class="p">(</span> <span class="n">text</span> <span class="p">):</span>
  <span class="k">return</span> <span class="n">normalize</span><span class="p">(</span><span class="s">'NFKD'</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'ASCII'</span><span class="p">,</span> <span class="s">'ignore'</span><span class="p">)</span>
</pre>
<p>Ejecutando el ejemplo:</p>
<pre class="code python literal-block">
<span class="o">&gt;&gt;&gt;</span> <span class="n">normalize_text</span> <span class="p">(</span> <span class="s">'aáaá eéeé iíií oóoó ñnñn AÀAÀ'</span> <span class="p">)</span>
<span class="n">b</span><span class="s">'aaaa eeee iiii oooo nnnn AAAA'</span>
</pre></div>
        </div>
            
        
    <p>
        <a href="posts/normalize-text-py.html#disqus_thread" data-disqus-identifier="cache/posts/normalize-text-py.html">Comments</a>


        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/cheat-sheets-for-developers.html" class="u-url">Cheat-sheets for developers</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-10-02T15:30:00+02:00">2012-10-02 15:30</time></small></h1>
        <hr><div class="e-content">
        <div><p><a class="reference external" href="http://www.cheat-sheets.org/">cheat-sheets.org</a></p>
<blockquote>
"All cheat sheets, round-ups, quick reference cards, quick reference guides and quick reference sheets in one page. The only one you need."</blockquote></div>
        </div>
            
        
    <p>
        <a href="posts/cheat-sheets-for-developers.html#disqus_thread" data-disqus-identifier="cache/posts/cheat-sheets-for-developers.html">Comments</a>


        </p></article><div>
        <ul class="pager"><li class="next">
                <a href="index-1.html" rel="next">Older posts →</a>
            </li>
        </ul></div>

    
        
       <script>var disqus_shortname="carlosvin";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script></div>
        <!--End of body content-->

        <footer>
            Contents © 2014         <a href="mailto:carlosvin@gmail.com">Carlos Martín Sánchez</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
        </footer></div>
</div>


            <script src="../assets/js/all-nocdn.js" type="text/javascript"></script><!-- Social buttons --><div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul><li><a class="addthis_button_facebook"></a>
</li><li><a class="addthis_button_google_plusone_share"></a>
</li><li><a class="addthis_button_linkedin"></a>
</li><li><a class="addthis_button_twitter"></a>
</li></ul></div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --><script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1328360-9', 'carlosvin.github.io');
  ga('send', 'pageview');

</script><!-- Start of StatCounter Code for Default Guide --><script type="text/javascript">
var sc_project=9708205; 
var sc_invisible=1; 
var sc_security="4998d447"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script><noscript><div class="statcounter"><a title="web analytics" href="http://statcounter.com/" target="_blank"><img class="statcounter" src="http://c.statcounter.com/9708205/0/4998d447/1/" alt="web analytics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body></html>